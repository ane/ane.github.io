<!-- -*- engine:liquid -*- -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <link href="https://micro.blog/ane" rel="me" />
    <link rel="webmention" href="https://micro.blog/webmention" />

    <title>
      
        Configurability
      
    </title>

    
      <meta name="description" content="" />
    
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />

    <link type="application/atom+xml" rel="alternate" href="http://ane.iki.fi/feed.xml" title="Antoine Kalmbach's website" />
    <meta http-equiv="refresh" content="0; url=http://ane.iki.fi/2019/03/09/configuration.html" />
    <link rel="canonical" href="http://ane.iki.fi/2019/03/09/configuration.html"/>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Configurability | Antoine Kalmbach’s website</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Configurability" />
<meta name="author" content="Antoine Kalmbach" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Customizing software products can be done by creating derivate products by altering what is known as the baseline product. This results in effectively new products, and managing them involves complicated logistics. What if we brought all the custom features inside the baseline, and used configuration to choose from the baseline what goes into the custom versions?" />
<meta property="og:description" content="Customizing software products can be done by creating derivate products by altering what is known as the baseline product. This results in effectively new products, and managing them involves complicated logistics. What if we brought all the custom features inside the baseline, and used configuration to choose from the baseline what goes into the custom versions?" />
<link rel="canonical" href="http://ane.iki.fi/2019/03/09/configuration.html" />
<meta property="og:url" content="http://ane.iki.fi/2019/03/09/configuration.html" />
<meta property="og:site_name" content="Antoine Kalmbach’s website" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-09T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Configurability" />
<meta name="twitter:site" content="@anewtf" />
<meta name="twitter:creator" content="@Antoine Kalmbach" />
<script type="application/ld+json">
{"headline":"Configurability","dateModified":"2019-03-09T11:06:24+00:00","datePublished":"2019-03-09T00:00:00+00:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://ane.iki.fi/2019/03/09/configuration.html"},"url":"http://ane.iki.fi/2019/03/09/configuration.html","author":{"@type":"Person","name":"Antoine Kalmbach"},"description":"Customizing software products can be done by creating derivate products by altering what is known as the baseline product. This results in effectively new products, and managing them involves complicated logistics. What if we brought all the custom features inside the baseline, and used configuration to choose from the baseline what goes into the custom versions?","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/override.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="/assets/pygments.css" type="text/css" media="screen" />
  </head>
  <body itemscope itemtype="https://schema.org/WebPage" class="home-template">
    <div class="hyphenate">
      <h1 style="text-align: center;">
  Antoine Kalmbach
</h1>
<nav class="navbar">
  <ul>
    <li class="nav-item ">
      <a class="nav-link pl-0" href="/" itemprop="url"><span itemprop="name">Home</span></a>
    </li>
    <li class="nav-item  active">
      <a class="nav-link" href="/archive.html" itemprop="url"><span itemprop="name">Blog</span></a>
    </li>
    <li class="nav-item ">
      <a class="nav-link" href="/about/" itemprop="url"><span itemprop="name">About</span></a>
    </li>
    <li class="nav-item ">
      <a class="nav-link" href="/tags.html" itemprop="url"><span itemprop="name">Index</span></a>
    </li>

    <li class="nav-item mr-n2">
      <a class="nav-link" href="/feed.xml"><i class="fa fa-rss" aria-hidden="true"></i> RSS</a>
    </li>
  </ul>
</nav>

<div class="h-card d-none" style="display: none">
  <img class="u-photo" src="/images/me.png" />
  <a class="u-url" href="http://ane.iki.fi/2019/03/09/configuration.html"></a>
  <a class="p-name u-url" href="http://ane.iki.fi">Antoine Kalmbach</a>
  <a class="u-email" href="mailto:">ane@iki.fi</a>
</div>


      <div class="content">
        <article class="h-entry">
  <header>
    





  <h2 class="p-name" style="margin: 0.25rem 0;">
    Configurability
  </h2>

  <p class="post-meta text-muted">
    <time class="dt-published" itemprop="datePublished" datetime="2019-03-09 00:00:00 +0000">
      Posted on March 9, 2019

  </p>


    <link itemprop="mainEntityOfPage" itemscope itemtype="http://schema.org/BlogPosting" href="/2019/03/09/configuration.html" />
  </header>
  <div class="e-content">
    <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This post is a part of series on <a href="/2018/04/26/software-customization.html">software product customization</a>. Here, I
present a method that avoid customization entirely: instead of customizations,
behavioral changes are controlled by configuration. The start-time or build-time
parameters of the product determine its behavior. To use a car analogy, a flip
of a button in car can swap its leathter seats with
<a href="https://en.wikipedia.org/wiki/Alcantara_(material)">Alcantara</a> instantly. This
feature is part of the car itself, and doesn&#8217;t require building a product line
for leather seated cars and another for Alcantara cars at the car factory.</p>
</div>
<div class="paragraph">
<p>Shipping a software product that integrates into a lot of systems is hard,
because these systems vary from customer to customer. In most cases, these
systems have different integrations mechanisms, protocols, locations. For
example, a web shop product might integrate into the customer&#8217;s shipping and
logistics system. One customer could rely on UPS, the other on DHL, the other on
the national post system, the other on FedEx, and so on. Each of these require a
certain integration point from the web shop.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="customization-versus-configuration"><a class="anchor" href="#customization-versus-configuration"></a>Customization versus configuration</h3>
<div class="paragraph">
<p>One way to do this is to <em>customize</em> the software: produce a different version
of the software that caters to this particular customer installation, using its
specific shipping system integration. This alteration is done at the development
pipeline, creating a new product instance, where the core behaviour is
significantly changed. This custom version cannot be used for other customers,
nor is the same version as the baseline anymore. The custom behavior is built
into the software, it&#8217;s not something you can swap out at whim.</p>
</div>
<div class="paragraph">
<p>While the term <em>customization</em> loosely means making the product behave
differently, in this context I specifically use to mark the "customized" product
as a derivative one. That strikes a difference between <em>configuration</em>: a
configurable product gets its custom behavior derived from configuration, a set
of parameters that determine the application behavior that are <em>external</em> to the
application. The part producing the custom behavior is outside the application.</p>
</div>
<div class="paragraph">
<p>The part where car analogies in software tend to ultimately fall apart is
software is not a physical medium. A binary does have a size, but whether the
package is 100MB vs 1GB is largely irrelevant these days. As such, shipping a
multitude of features such as shipping system integrations inside the same
product does not dramatically alter the size of the deployable program.</p>
</div>
<div class="imageblock float-sm-right ml-3 half">
<div class="content">
<a class="image" href="/images/locomotive.jpg"><img src="/images/locomotive.jpg" alt="Locomotive" width="300"></a>
</div>
<div class="title">Talk about configurability!</div>
</div>
<div class="paragraph">
<p>Although clumsy, the seat selection analogy works well here. A customizable car
has one of two choices, leather or fake leather. The customer gets a car with
one or the other. If the customer were to change their mind, they&#8217;d be forced to
return to the supplier to get them refitted. On the other hand, if one were to
ship a <em>configurable</em> car, one would ship two seat sets with the car and an
option to get them swapped at minimal cost. But the customer needs to find a
place for the secondary seat set.</p>
</div>
<div class="paragraph">
<p>As said before, car analogies stop working at this point when talking about
software. The secondary seat set might be a couple of megabytes or tens of
megabytes in the binary size. The <em>logistics</em> of the additional feature set are
close to non-existent.</p>
</div>
<div class="paragraph">
<p>Since software is not really a physical medium, a software delivery could just
ship both seat sets and be done with it. Flip a switch off an enumeration to
choose between seat styles. Or shipping system integrations.</p>
</div>
</div>
<div class="sect2">
<h3 id="a-big-blob"><a class="anchor" href="#a-big-blob"></a>A big blob?</h3>
<div class="paragraph">
<p>A configurable software system has the custom features live inside the same
space as all the rest. Compare this to a customizable system where different
versions have different features. A version for customer <em>A</em> has different
modules available to it, since the modules for customer <em>B</em>'s requirements are
not there. Underneath, it is mounted on top of the <em>baseline system</em>, where the
standard product features come from. Both versions <em>A</em> and <em>B</em> have to now track
changes in the baseline system, and this can be logistically challenging, as it
tends to engender complicated release management and version control processes.</p>
</div>
<div class="paragraph">
<p>In a configurable system there is no need for complex logistics: simply put all
the features in the same binary, and ship the product with the necessary
features enabled and the unnecessary or impossible ones disabled. Customer <em>A</em>
chooses a different subset than customer <em>B</em>, but they are subsets of the same
set nonetheless.</p>
</div>
</div>
<div class="sect2">
<h3 id="death-to-customization-product-lines"><a class="anchor" href="#death-to-customization-product-lines"></a>Death to customization product lines!</h3>
<div class="paragraph">
<p>Configurability is the antithesis of customization product lines. Customization
produces derivative products that are distinct: parts may be removed,
overwritten, or altered. In configuration, instead of removing, we
disable. Instead of overwriting behavior, we choose another implementation. To
alter, we do the same.</p>
</div>
<div class="paragraph">
<p>The logistical problem of customization management does not vanish but takes
another form: configuration management. How do create a product line that can
take a rich product and trim the cruft to ship the versions that are needed? The
product team should not have to waste time with a steam locomotive control panel
with dozens of switches and gears to deploy the products to customers!</p>
</div>
<div class="paragraph">
<p>As the previous article dealt with the issue of managing product lines for
customizations, we now enter face the problem of configuration management!
Imagine for a second that the web shop system has now on top of its shipping
system integration <em>ten other</em> places to connect to, from product catalogs to
order management systems to workforce management to billing. How do we make sure
we can deliver versions of the product with the <em>right</em> set of settings, the
correct integrations and so on?</p>
</div>
<div class="paragraph">
<p>The obvious answer is that this requires an extremely user-friendly interface. I
don&#8217;t mean a graphical one! Even a configuration file with a nice, clear syntax
<em>with good documentation</em> is more than enough. Ideally, the configuration system
should be something that is fairly abstract. If you don&#8217;t want to deal with YAML
or JSON or properties files, you shouldn&#8217;t have to. The configuration system
must produce some sort of configuration and it shouldn&#8217;t matter where this comes
from. So even the origin of the configuration must be configurable!</p>
</div>
<div class="paragraph">
<p>Aside from graphical interfaces, which face <a href="/2018/09/16/the-runtime-configuration-problem.html">issues of their own</a>, there are
lots of ways for creating user-friendly configuration interfaces. Over the years
I&#8217;ve grown fond of <a href="https://github.com/lightbend/config">Typesafe Config</a>, but
plain YAML, TOML or INI files will do in a pinch.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuration-is-flexible"><a class="anchor" href="#configuration-is-flexible"></a>Configuration is flexible</h3>
<div class="paragraph">
<p>A configurable system has the downside that the settings need to be
managed. Flexible, lightweight configuration management is still an unsolved
problem, I think. That doesn&#8217;t mean configuration is the solution to
customization needs. On the contrary, it is a much better solution than any sort
of derivative or "custom" software product line we&#8217;ve seen so far, but the
implication is the requirement for configuration management.</p>
</div>
<div class="paragraph">
<p>While the baseline codebase becomes large, as the custom requirements are
bundled there, managing a large "monorepo" for a single product is usually
easier than having separate code repositories. There are lots of ways to try to
overlay customizations on top of a baseline version, but I&#8217;ve found them all
wanting.</p>
</div>
<div class="paragraph">
<p>So in the end, if I were to ship a web shop with integrations towards many
shipping systems, I&#8217;d create a system where I can choose that for customer X,
they get a certain set of integrations, and the other customer gets a different
set. But the good part is that I can <em>control</em> how this happen without having to
install a special product line or team that manages customizations. This is a
much better alternative than creating custom derivatives.</p>
</div>
<div class="paragraph">
<p>Where do we go from here? So now I&#8217;ve closed the idea of creating customization
product lines, but now I&#8217;m faced with an entirely new problem: configuration
management! This is an entirely separate problem, which deserves a post of its
own, so stay tuned!</p>
</div>
</div>
  </div>
  <small style="display: flex; justify-content: space-between;">
    
      <em>
        Previous: <a href="/2018/09/16/the-runtime-configuration-problem.html">The runtime configuration problem</a>
      </em>
    

    
      <em>
        Next: <a href="/2019/11/20/embedded-rust-wifi.html">Embedded Rust and WiFi</a>
      </em>
    
  </small>
</article>

      </div>

      <footer>
        <hr>
        <address>
          
          

          &copy; <a href="mailto:ane@iki.fi">Antoine Kalmbach</a>, see <a href="/this-site/index.html#copying">copying</a>.
          Last updated on <a href="/changelog.html">July 28, 2021</a>. Discuss at my <a href="https://lists.sr.ht/~ane/public-inbox">public inbox</a>.
        </address>
      </footer>
    </div>
    <script src="/assets/hyphenator.js" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
     MathJax.Hub.Config({
       tex2jax: {
         inlineMath: [ ['$','$'], ['\\(', '\\)'] ],
         processEscapes: false
       }
     });
    </script>
    <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script src="/assets/hylo.js" type="text/javascript"></script>
    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

     var _gaq = _gaq || [];
     _gaq.push(['_setAccount', 'UA-58162697-1']);
     _gaq.push(['_trackPageview']);

     (function () {
       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
     })();

    </script>
  </body>

</html>
